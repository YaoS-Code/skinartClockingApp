# SkinartMD è€ƒå‹¤æ‰“å¡ç³»ç»Ÿ

ä¸“ä¸ºSkinartMDè¯Šæ‰€è®¾è®¡çš„å‘˜å·¥è€ƒå‹¤æ‰“å¡ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ—¶é—´è®°å½•ç®¡ç†ã€è¡¥æ‰“å¡ç”³è¯·ã€ç®¡ç†å‘˜å®¡æ‰¹å’Œé€šçŸ¥åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# 2. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# 3. è®¿é—®åº”ç”¨
# å‰ç«¯: http://clock.skinartmd.ca:3001
# API: http://clock.skinartmd.ca:13000/api
```

### ç³»ç»Ÿè¦æ±‚

- **Docker & Docker Compose**
- **Colima** (Macä¸Šçš„Dockeræ›¿ä»£æ–¹æ¡ˆ)
  - CPU: 4æ ¸
  - å†…å­˜: 5GB
  - ç£ç›˜: 100GB

### é»˜è®¤è´¦æˆ·

- **ç”¨æˆ·å**: manager
- **å¯†ç **: 8780
- **è§’è‰²**: admin

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### å‘˜å·¥åŠŸèƒ½
- âœ… **æ‰“å¡ç®¡ç†** - ä¸Šç­/ä¸‹ç­æ‰“å¡ï¼ˆæ”¯æŒGPSå®šä½ï¼‰
- âœ… **è®°å½•æŸ¥çœ‹** - æŸ¥çœ‹å†å²æ‰“å¡è®°å½•å’Œç»Ÿè®¡
- âœ… **è¡¥æ‰“å¡ç”³è¯·** - ç”³è¯·è¡¥æ‰“å¡ï¼ˆæ— åœ°åŸŸé™åˆ¶ï¼‰
  - å¯ä»¥åŒæ—¶å¡«å†™ä¸Šç­å’Œä¸‹ç­æ—¶é—´
  - å¯ä»¥åªå¡«å†™ä¸Šç­æ—¶é—´æˆ–ä¸‹ç­æ—¶é—´
  - å¯ä»¥è®¾ç½®ä¼‘æ¯æ—¶é—´
- âœ… **ä¿®æ”¹è®°å½•ç”³è¯·** - ç”³è¯·ä¿®æ”¹é”™è¯¯çš„æ‰“å¡è®°å½•
  - åœ¨è®°å½•åˆ—è¡¨é¡µé¢ç›´æ¥ç”³è¯·ä¿®æ”¹
  - è‡ªåŠ¨å¡«å……åŸæœ‰è®°å½•ä¿¡æ¯
- âœ… **é€šçŸ¥ç³»ç»Ÿ** - å®æ—¶æ¥æ”¶å®¡æ‰¹ç»“æœé€šçŸ¥

### ç®¡ç†å‘˜åŠŸèƒ½
- âœ… **å‘˜å·¥ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€ç¦ç”¨å‘˜å·¥è´¦æˆ·
- âœ… **è®°å½•æ±‡æ€»** - æŸ¥çœ‹æ‰€æœ‰å‘˜å·¥æ‰“å¡è®°å½•å’Œç»Ÿè®¡
- âœ… **è¡¥æ‰“å¡å®¡æ‰¹** - å®¡æ‰¹å‘˜å·¥çš„è¡¥æ‰“å¡å’Œä¿®æ”¹ç”³è¯·
- âœ… **é€šçŸ¥ç®¡ç†** - æ¥æ”¶å¹¶å¤„ç†å‘˜å·¥ç”³è¯·é€šçŸ¥

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

### å®¹å™¨æœåŠ¡
```
âœ… clockingapp-mysql   - MySQLæ•°æ®åº“ (ç«¯å£ 3306)
âœ… clockingapp-server  - Node.jsåç«¯API (ç«¯å£ 13000)
âœ… clockingapp-client  - Reactå‰ç«¯ (ç«¯å£ 3001)
```

### æŠ€æœ¯æ ˆ

**åç«¯**
- Node.js + Express.js
- MySQL 8.0
- JWTè®¤è¯
- bcryptjså¯†ç åŠ å¯†
- moment-timezoneæ—¶åŒºå¤„ç†

**å‰ç«¯**
- React 18.2.0
- Material-UI (MUI)
- Redux Toolkit
- React Router

## ğŸ”§ é…ç½®è¯´æ˜

### Dockerç¯å¢ƒå˜é‡

åœ¨ `docker-compose.yml` ä¸­é…ç½®ï¼š

```yaml
environment:
  DB_HOST: mysql
  DB_USER: clockingapp_user
  DB_PASSWORD: SkinartMD_2024_DB!
  DB_NAME: clockingapp
  JWT_SECRET: skinartmd_jwt_secret_2024
  CORS_ORIGIN: http://clock.skinartmd.ca,https://clock.skinartmd.ca
  TZ: America/Vancouver
```

### Colimaèµ„æºé…ç½®

```bash
# å¯åŠ¨Colimaï¼ˆæ¨èé…ç½®ï¼‰
colima start --cpu 4 --memory 5 --disk 100

# æŸ¥çœ‹çŠ¶æ€
colima status
```

## ğŸ“Š æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨

- **users** - ç”¨æˆ·è´¦æˆ·ä¿¡æ¯
- **clock_records** - æ‰“å¡è®°å½•
- **clock_requests** - è¡¥æ‰“å¡å’Œä¿®æ”¹ç”³è¯·
- **notifications** - é€šçŸ¥æ¶ˆæ¯
- **audit_logs** - å®¡è®¡æ—¥å¿—

### æ•°æ®åº“å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®åº“
docker exec clockingapp-mysql mysqldump -u root -pSkinartMD_2024_Root! clockingapp > backups/backup_$(date +%Y%m%d_%H%M%S).sql

# æ¢å¤æ•°æ®åº“
docker exec -i clockingapp-mysql mysql -u root -pSkinartMD_2024_Root! clockingapp < backups/backup_file.sql
```

## ğŸ› ï¸ APIæ–‡æ¡£

### è®¤è¯ç›¸å…³
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `GET /api/auth/profile` - è·å–ç”¨æˆ·ä¿¡æ¯

### æ‰“å¡ç›¸å…³
- `POST /api/clock/in` - ä¸Šç­æ‰“å¡
- `POST /api/clock/out` - ä¸‹ç­æ‰“å¡
- `GET /api/clock/records` - è·å–æ‰“å¡è®°å½•
- `GET /api/clock/my-records` - è·å–æˆ‘çš„è®°å½•

### è¡¥æ‰“å¡ç”³è¯·
- `POST /api/clock-requests` - åˆ›å»ºç”³è¯·ï¼ˆæ–°å»ºè¡¥æ‰“å¡æˆ–ä¿®æ”¹è®°å½•ï¼‰
- `GET /api/clock-requests/my` - è·å–æˆ‘çš„ç”³è¯·
- `GET /api/clock-requests/all` - ç®¡ç†å‘˜æŸ¥çœ‹æ‰€æœ‰ç”³è¯·
- `POST /api/clock-requests/:id/review` - ç®¡ç†å‘˜å®¡æ‰¹
- `DELETE /api/clock-requests/:id` - åˆ é™¤pendingç”³è¯·

### é€šçŸ¥ç³»ç»Ÿ
- `GET /api/notifications` - è·å–é€šçŸ¥åˆ—è¡¨
- `GET /api/notifications/unread-count` - è·å–æœªè¯»æ•°é‡
- `PATCH /api/notifications/:id/read` - æ ‡è®°ä¸ºå·²è¯»
- `PATCH /api/notifications/read-all` - å…¨éƒ¨æ ‡è®°ä¸ºå·²è¯»

## ğŸ” å®‰å…¨ç‰¹æ€§

- âœ… JWT tokenè®¤è¯
- âœ… å¯†ç bcryptåŠ å¯†
- âœ… IPç™½åå•æ”¯æŒï¼ˆå¯é€‰ï¼‰
- âœ… å®¡è®¡æ—¥å¿—è®°å½•
- âœ… HTTPSæ”¯æŒï¼ˆé€šè¿‡nginxåå‘ä»£ç†ï¼‰

## ğŸ“± è®¿é—®åœ°å€

- **å‰ç«¯**: http://clock.skinartmd.ca:3001
- **åç«¯API**: http://clock.skinartmd.ca:13000/api
- **æ•°æ®åº“**: localhost:3306 (ä»…æœ¬åœ°è®¿é—®)

## ğŸ› å¸¸è§é—®é¢˜

### 1. æœªç™»å½•æ—¶è®¿é—®æ ¹è·¯å¾„ç™½å±
**å·²ä¿®å¤**: æœªç™»å½•æ—¶è‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼Œä¸æ˜¾ç¤ºNavbarã€‚

### 2. ç®¡ç†å‘˜æ— æ³•å®¡æ‰¹ç”³è¯·
**å·²ä¿®å¤**: ä¿®å¤æ—¥æœŸæ—¶é—´æ ¼å¼è½¬æ¢é—®é¢˜ï¼Œæ”¯æŒæ‰€æœ‰æ—¶é—´æ ¼å¼ã€‚

### 3. å‰ç«¯æ„å»ºå†…å­˜ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨Colimaåˆ†é…è‡³å°‘5GBå†…å­˜ã€‚

## ğŸ“ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# åç«¯
cd server
npm install
npm run dev

# å‰ç«¯
cd client
npm install
npm start
```

### ä»£ç ç»“æ„

```
skinartClockingApp/
â”œâ”€â”€ server/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js      # Expressåº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/     # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ controllers/# æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ middleware/ # ä¸­é—´ä»¶
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ client/              # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/ # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/   # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ store/      # ReduxçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ package.json
â””â”€â”€ docker-compose.yml   # Dockerç¼–æ’é…ç½®
```

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v2.1.1 (2025-11-03)
- âœ… ä¿®å¤æœªç™»å½•æ—¶ç™½å±é—®é¢˜
- âœ… ä¿®å¤ç®¡ç†å‘˜å®¡æ‰¹æ—¥æœŸæ—¶é—´æ ¼å¼é”™è¯¯
- âœ… æ·»åŠ è®°å½•é¡µé¢ç›´æ¥ä¿®æ”¹åŠŸèƒ½

### v2.1 (2025-11-03)
- âœ… å¢å¼ºè¡¥æ‰“å¡ç³»ç»Ÿï¼šæ”¯æŒåŒæ—¶å¡«å†™ä¸Šä¸‹ç­æ—¶é—´
- âœ… æ”¯æŒä¿®æ”¹å·²æœ‰æ‰“å¡è®°å½•
- âœ… æ·»åŠ é€šçŸ¥ç³»ç»Ÿ

### v2.0 (2025-11-03)
- âœ… æ·»åŠ è¡¥æ‰“å¡ç”³è¯·åŠŸèƒ½
- âœ… æ·»åŠ é€šçŸ¥ç³»ç»Ÿ
- âœ… æ•°æ®åº“å¤‡ä»½åŠŸèƒ½

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹å®¹å™¨æ—¥å¿—: `docker logs clockingapp-server`
2. æ£€æŸ¥Colimaèµ„æºçŠ¶æ€: `colima status`
3. éªŒè¯æ•°æ®åº“è¿æ¥: `docker exec clockingapp-mysql mysql -u root -p`

## ğŸ“„ è®¸å¯è¯

[æ ¹æ®é¡¹ç›®æƒ…å†µæ·»åŠ è®¸å¯è¯ä¿¡æ¯]

---

**å½“å‰ç‰ˆæœ¬**: v2.1.1  
**æœ€åæ›´æ–°**: 2025å¹´11æœˆ3æ—¥  
**çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸­
